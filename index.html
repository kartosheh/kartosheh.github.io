<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ | Ù…Ø¯Ø§Ø±Ø³ Ø­Ù„ÛŒ</title>

  <!-- Fonts & icons -->
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- AOS for scroll animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />

  <style>
    :root{
      --heli-blue: #003366;
      --heli-deep: #004d99;
      --gold: #ffd700;
      --bg: #fbfcfd;
      --card-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }

    /* Base layout */
    html { scroll-behavior: smooth; scroll-snap-type: y proximity; }
    body {
      margin:0;
      font-family: 'Vazirmatn', sans-serif;
      background: var(--bg);
      color:#111;
      line-height:1.7;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Header */
    header{
      background: linear-gradient(180deg,var(--heli-deep),var(--heli-blue));
      color:#fff;
      text-align:center;
      padding:3rem 1rem 2rem;
    }
    header h1{ margin:0; font-size:2.1rem; display:inline-flex; gap:.6rem; align-items:center; }
    header p{ margin:.6rem 0 1rem; opacity:.95; }

    .badge {
      background-color: var(--gold);
      color: var(--heli-blue);
      font-weight:700;
      display:inline-flex;
      gap:.6rem;
      padding:.5rem 1rem;
      border-radius:999px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.12);
      margin: 0.6rem auto 1.2rem;
      font-size:1rem;
      align-items:center;
      justify-content:center;
      animation: pulse 2.2s infinite;
    }

    nav ul{ list-style:none; padding:0; margin:1rem 0 0; display:flex; gap:1.2rem; justify-content:center; flex-wrap:wrap; }
    nav a{ color:#fff; text-decoration:none; font-weight:600; padding:.25rem .5rem; border-radius:6px; transition: color .18s, transform .18s; }
    nav a:hover{ color: var(--gold); transform: translateY(-2px); }

    main{ max-width:1000px; margin:2rem auto; padding:0 1rem 4rem; }
    section{ margin:0 0 4.2rem; scroll-snap-align:start; }
    h2{ color:var(--heli-deep); font-size:1.5rem; margin:0 0 .8rem; }
    p { margin:0 0 1rem; color:#222; }

    /* Features / Schools / Screenshots */
    .features ul{ list-style:none; padding:0; display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:1rem; }
    .features li{ background:#fff; padding:1rem; border-radius:12px; box-shadow: var(--card-shadow); font-weight:600; color:var(--heli-deep); }
    .schools ul{ display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:12px; padding:0; list-style:none; }
    .schools li{ background:linear-gradient(180deg,#fff, #fbfbff); padding:.9rem; border-radius:10px; box-shadow: var(--card-shadow); text-align:center; color:var(--heli-deep); font-weight:700; }
    .screenshots img{ display:block; width:100%; max-width:840px; margin:1rem auto; border-radius:14px; box-shadow: 0 12px 30px rgba(0,0,0,0.12); }

    .contact-card{ background:#fff; padding:1rem; border-radius:12px; box-shadow: var(--card-shadow); }

    footer{ background:var(--heli-blue); color:#fff; padding:2rem 1rem; text-align:center; }
    footer blockquote{ margin:1rem auto 0; color:var(--gold); font-style:italic; max-width:760px; }

    /* ---- Sparkle launch button: FIXED and STABLE ----
       Keep this element independent from AOS and page transforms.
       Do NOT apply layout-changing properties elsewhere that reference it.
    */
    .chat-launch {
      position: fixed;
      right: 22px;      /* fixed offset from the right edge */
      bottom: 92px;     /* fixed offset from the bottom edge (a bit higher now) */
      width:64px;
      height:64px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(circle at 35% 30%, #fff7d0, #ffd700 35%, #ffcc00 65%);
      box-shadow: 0 10px 30px rgba(255,200,30,0.25), 0 6px 18px rgba(0,0,0,0.12);
      cursor:pointer;
      z-index:1200;
      transition: transform .12s ease, box-shadow .12s ease;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      will-change: transform;  /* hint: animatable only, no layout shift */
    }
    .chat-launch:active { transform: scale(.96); }
    .chat-launch:focus { outline: 3px solid rgba(0,77,153,0.15); }
    .sparkle-icon{ font-size:1.6rem; color: var(--heli-blue); font-weight:900; user-select:none; display:inline-block; line-height:1; }

    /* ---- Chatbox: show/hide by class, transitions only on opacity/transform ---- */
    .chatbox {
      position: fixed;
      right: 100px;
      bottom: 96px;
      width:320px;
      max-width:calc(100% - 140px);
      background:#fff;
      border-radius:12px;
      overflow:hidden;
      z-index:1199;
      box-shadow: 0 20px 50px rgba(0,0,0,0.18);
      border: 2px solid var(--heli-blue);

      /* hidden: no layout reflow */
      opacity: 0;
      transform: translateY(8px) scale(.99);
      visibility: hidden;
      pointer-events: none;

      transition: opacity 220ms cubic-bezier(.2,.9,.2,1), transform 220ms cubic-bezier(.2,.9,.2,1), visibility 220ms;
      display:flex;
      flex-direction:column;
    }
    .chatbox.open {
      opacity: 1;
      transform: translateY(0) scale(1);
      visibility: visible;
      pointer-events: auto;
    }

    .chat-header{ background:var(--heli-blue); color:var(--gold); padding:.6rem .9rem; font-weight:800; text-align:center; }
    .chat-log{ padding:.7rem; max-height:220px; overflow:auto; font-size:.95rem; }
    .chat-log .user-msg{ text-align:right; background: rgba(0,77,153,0.06); color:var(--heli-deep); display:inline-block; padding:.45rem .7rem; border-radius:12px; margin:.45rem 0; max-width:84%; float:right; clear:both; }
    .chat-log .bot-msg{ text-align:left; background:#f3f7ff; color:#222; display:inline-block; padding:.45rem .7rem; border-radius:12px; margin:.45rem 0; max-width:84%; float:left; clear:both; }

    .chat-input{ border-top:1px solid #eee; display:flex; gap:.5rem; padding:.5rem; background:#fafafa; align-items:center; }
    .chat-input input{ flex:1; border:none; padding:.5rem .6rem; border-radius:8px; font-size:.95rem; background:#fff; outline:none; }
    .chat-input button{ background:var(--heli-deep); color:var(--gold); border:none; padding:.6rem .7rem; border-radius:8px; cursor:pointer; font-weight:700; }

    /* responsive */
    @media (max-width:640px){
      .chat-launch { right:14px; bottom:84px; width:56px; height:56px; }
      .chatbox { right:72px; bottom:88px; width:86vw; max-width:420px; }
      header h1 { font-size:1.6rem; }
      main { margin:1.2rem auto; padding:0 14px 3rem; }
    }

    /* small animations */
    @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 8px 20px rgba(255,205,0,0.18); } 50% { transform: scale(1.05); box-shadow: 0 20px 40px rgba(255,205,0,0.28); } 100% { transform: scale(1); box-shadow: 0 8px 20px rgba(255,205,0,0.18); } }
  </style>
</head>
<body>
  <header>
    <h1 data-aos="fade-down"><i class="fa-solid fa-file-lines"></i> Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ù†Ø§Ù…Ù‡</h1>
    <p data-aos="fade-up">Ø·Ø±Ø§Ø­ÛŒâ€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø¯Ø±Ø³Ù‡ Ø­Ù„ÛŒ Û± Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø³Ø§ÛŒØ± Ù…Ø¯Ø§Ø±Ø³ Ø­Ù„ÛŒ</p>

    <div class="badge" data-aos="zoom-in">
      <i class="fa-solid fa-shield-halved"></i>
      <span>ÙˆÛŒÚ˜Ù‡ Ù…Ø¯Ø§Ø±Ø³ Ø§Ø³ØªØ¹Ø¯Ø§Ø¯Ù‡Ø§ÛŒ Ø¯Ø±Ø®Ø´Ø§Ù† Ø­Ù„ÛŒ</span>
    </div>

    <nav>
      <ul>
        <li><a href="#intro"><i class="fa-solid fa-star"></i> Ù…Ø¹Ø±ÙÛŒ</a></li>
        <li><a href="#features"><i class="fa-solid fa-list-check"></i> Ø§Ù…Ú©Ø§Ù†Ø§Øª</a></li>
        <li><a href="#schools"><i class="fa-solid fa-school"></i> Ù…Ø¯Ø§Ø±Ø³ Ø­Ù„ÛŒ</a></li>
        <li><a href="#screenshots"><i class="fa-solid fa-image"></i> ØªØµØ§ÙˆÛŒØ±</a></li>
        <li><a href="#contact"><i class="fa-solid fa-envelope"></i> ØªÙ…Ø§Ø³</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="intro" data-aos="fade-up">
      <h2>Ù…Ø¹Ø±ÙÛŒ Ø³Ø§Ù…Ø§Ù†Ù‡</h2>
      <p>Ø³Ø§Ù…Ø§Ù†Ù‡ Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… Ù…Ø¯Ø±Ù† Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù…Ø±Ø§ØªØŒ Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†ØŒ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø³Øª. Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù†ÛŒØ§Ø²Ù‡Ø§ÛŒ Ù…Ø¯Ø§Ø±Ø³ Ø­Ù„ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ùˆ Ù‚Ø§Ø¨Ù„ ØªÙˆØ³Ø¹Ù‡ Ø¨Ø±Ø§ÛŒ Ø³Ø§ÛŒØ± Ù…Ø¯Ø§Ø±Ø³ Ù†ÛŒØ² Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.</p>
    </section>

    <section id="features" class="features" data-aos="fade-up">
      <h2>Ú†Ø±Ø§ Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ØŸ</h2>
      <ul>
        <li data-aos="fade-right"><i class="fa-solid fa-check"></i> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ Ùˆ Ø±Ø§Ø³Øªâ€ŒÚ†ÛŒÙ†</li>
        <li data-aos="fade-left"><i class="fa-solid fa-cog"></i> Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù…Ø¯Ø±Ø³Ù‡â€ŒØ§ÛŒ Ù…Ø®ØªÙ„Ù</li>
        <li data-aos="fade-right"><i class="fa-solid fa-rocket"></i>Ø·Ø±Ø§Ø­ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§ Ø¯Ø± Ú†Ù†Ø¯ Ø«Ø§Ù†ÛŒÙ‡</li>
        <li data-aos="fade-left"><i class="fa-solid fa-check-circle"></i>Ù‚Ø§Ø¨Ù„ ØªÙˆØ³Ø¹Ù‡ Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØª Ø±Ø§Ø­ØªÛŒ Ø´Ø®ØµÛŒ Ø³Ø§Ø²ÛŒ</li>
      </ul>
    </section>

    <section id="schools" class="schools" data-aos="fade-up">
      <h2>Ù…Ø¯Ø§Ø±Ø³ Ø­Ù„ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒâ€ŒØ´Ø¯Ù‡</h2>
      <ul>
        <li data-aos="fade-left">Ù…Ø¯Ø±Ø³Ù‡ Ø­Ù„ÛŒ  Û± Ø¯ÙˆØ±Ù‡ Ø§ÙˆÙ„ ØªÙ‡Ø±Ø§Ù† </li>
        <li data-aos="fade-right">Ù…Ø¯Ø±Ø³Ù‡ Ø­Ù„ÛŒ 1 Ø¯ÙˆØ±Ù‡ Ø¯ÙˆÙ… ØªÙ‡Ø±Ø§Ù†</li>

    </section>

    <section id="screenshots" class="screenshots" data-aos="fade-up">
      <h2>ØªØµØ§ÙˆÛŒØ± Ø³Ø§Ù…Ø§Ù†Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ</h2>
      <img src="student.jpeg" alt="Ù†Ù…ÙˆÙ†Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯" data-aos="fade-left" />
      <img src="teacher.jpeg" alt="Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†" data-aos="fade-right" />
      <img src="class.jpeg" alt="Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†" data-aos="fade-left" />
      <img src="nomre.jpeg" alt="Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†" data-aos="fade-right" />
      <img src="sc.jpeg" alt="Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†" data-aos="fade-left" />

    </section>

    <section id="contact" data-aos="fade-up">
      <h2>ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h2>
      <div class="contact-card">
        <p>Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± ÛŒØ§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ù…Ùˆ Ø¨Ø§ Ø§ÛŒÙ…ÛŒÙ„ Ø²ÛŒØ± Ø¯Ø± ØªÙ…Ø§Ø³ Ø¨Ø§Ø´ÛŒØ¯:</p>
        <p><strong>school@example.com</strong></p>
      </div>
    </section>
  </main>

  <footer>
    <p>Â© Û±Û´Û°Û´ Ø³Ø§Ù…Ø§Ù†Ù‡ Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ | Ù…Ø¯Ø±Ø³Ù‡ Ø­Ù„ÛŒ Û±</p>
    <blockquote>Â«Ø§Ù„Ø¹Ù„Ù… Ù†ÙˆØ± ÛŒÙ‚Ø°ÙÙ‡ Ø§Ù„Ù„Ù‡ ÙÛŒ Ù‚Ù„Ø¨ Ù…Ù† ÛŒØ´Ø§Ø¡Â» â€“ Ø¹Ù„Ø§Ù…Ù‡ Ø­Ù„ÛŒ</blockquote>
  </footer>

  <!-- Sparkle launch button: NO data-aos here, so AOS won't touch it -->
  <button id="chat-launch" class="chat-launch" aria-label="Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÛŒØ§Ø± Ø­Ù„ÛŒ" title="Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÛŒØ§Ø± Ø­Ù„ÛŒ">
    <span class="sparkle-icon">âœ¦</span>
  </button>

  <!-- Chatbox: controlled with .open class -->
  <div class="chatbox" id="chatbox" aria-hidden="true">
    <div class="chat-header">ğŸ¤– Ø¯Ø³ØªÛŒØ§Ø± Ø³Ø§Ù…Ø§Ù†Ù‡ Ø­Ù„ÛŒ</div>
    <div class="chat-log" id="chat-log" role="log" aria-live="polite"></div>
    <div class="chat-input">
      <input id="chat-input" type="text" placeholder="Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ Ùˆ Enter Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯..." aria-label="Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ø¯Ø³ØªÛŒØ§Ø±" />
      <button id="chat-send" aria-label="Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…">Ø§Ø±Ø³Ø§Ù„</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>
    AOS.init({ duration: 750, easing: 'ease-out', once: true });

    const cannedResponses = {
      "Ø³Ù„Ø§Ù…": "Ø³Ù„Ø§Ù…! Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒØ¯. Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ú©Ù…Ú©â€ŒØªÙˆÙ† Ú©Ù†Ù…ØŸ",
      "Ø§Ù…Ú©Ø§Ù†Ø§Øª": "Ø³Ø§Ù…Ø§Ù†Ù‡ Ø´Ø§Ù…Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù…Ø±Ø§ØªØŒ Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†ØŒ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒØŒ Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø¯Ø±Ø³Ù‡ Ø§Ø³Øª.",
      "Ù…Ø¯Ø§Ø±Ø³": "Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø­Ù„ÛŒ Û±ØŒ Ø­Ù„ÛŒ Û²ØŒ Ù…Ø´Ù‡Ø¯ Ùˆ Ø´ÛŒØ±Ø§Ø² Ø¯Ø± Ù„ÛŒØ³Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù‡Ø³ØªÙ†Ø¯.",
      "ØªÙ…Ø§Ø³": "Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ø³ØŒ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ school@example.com Ø±Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.",
      "Ú©Ø§Ø±Ù†Ø§Ù…Ù‡": "Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒØ¯ Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ Ø±Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ØŒ Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ú†Ø§Ù¾ Ú©Ù†ÛŒØ¯ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ¬Ù…Ø¹ÛŒ Ù‡Ù… Ø¯Ø§Ø±ÛŒÙ….",
      "Ø¯Ù…Ùˆ": "Ø¨Ø±Ø§ÛŒ Ø¯Ù…Ùˆ Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø§ÛŒÙ…ÛŒÙ„ Ø¨ÙØ±Ø³ØªÛŒØ¯ ÛŒØ§ Ø§ÛŒÙ†Ø¬Ø§ Ù…ØªÙ† Ù¾ÛŒØ§Ù…â€ŒØªÙˆÙ† Ø±Ùˆ Ø¨ÙØ±Ø³ØªÛŒØ¯ ØªØ§ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ú©Ù†Ù…."
    };

    function addMessage(content, cls){
      const log = document.getElementById('chat-log');
      const node = document.createElement('div');
      node.className = cls;
      node.innerText = content;
      log.appendChild(node);
      log.scrollTop = log.scrollHeight;
    }

    function generateReply(text){
      const key = text.trim();
      if(cannedResponses[key]) return cannedResponses[key];
      const lower = key.toLowerCase();
      if(lower.includes('Ø³Ù„Ø§Ù…') || lower.includes('hi')) return cannedResponses["Ø³Ù„Ø§Ù…"];
      if(lower.includes('Ø§Ù…Ú©Ø§Ù†Ø§Øª') || lower.includes('feature')) return cannedResponses["Ø§Ù…Ú©Ø§Ù†Ø§Øª"];
      if(lower.includes('Ù…Ø¯Ø±Ø³Ù‡') || lower.includes('Ø­Ù„ÛŒ')) return cannedResponses["Ù…Ø¯Ø§Ø±Ø³"];
      if(lower.includes('ØªÙ…Ø§Ø³') || lower.includes('Ø§ÛŒÙ…ÛŒÙ„')) return cannedResponses["ØªÙ…Ø§Ø³"];
      if(lower.includes('Ú©Ø§Ø±Ù†Ø§Ù…Ù‡')) return cannedResponses["Ú©Ø§Ø±Ù†Ø§Ù…Ù‡"];
      if(lower.includes('Ø¯Ù…Ùˆ') || lower.includes('demo')) return cannedResponses["Ø¯Ù…Ùˆ"];
      return "Ù…ØªØ£Ø³ÙÙ…ØŒ Ø¬ÙˆØ§Ø¨ Ø¯Ù‚ÛŒÙ‚ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ø±Ùˆ ÙØ¹Ù„Ø§Ù‹ Ù†Ø¯Ø§Ø±Ù…. Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒØ¯ Ø³ÙˆØ§Ù„ Ø±Ùˆ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ù¾Ø±Ø³ÛŒØ¯ ÛŒØ§ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ø²Ù†ÛŒØ¯.";
    }

    // Stable toggle: only class toggles, no display changes
    const launchBtn = document.getElementById('chat-launch');
    const chatBox = document.getElementById('chatbox');

    launchBtn.addEventListener('click', function(){
      const opened = chatBox.classList.toggle('open');
      chatBox.setAttribute('aria-hidden', String(!opened));
      // add greeting once when opened
      const log = document.getElementById('chat-log');
      if(opened && log.children.length === 0){
        setTimeout(()=> addMessage("Ø³Ù„Ø§Ù…! Ù…Ù† Ø¯Ø³ØªÛŒØ§Ø± Ø³Ø§Ù…Ø§Ù†Ù‡ Ø­Ù„ÛŒ Ù‡Ø³ØªÙ…. Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯: Ø§Ù…Ú©Ø§Ù†Ø§Øª ÛŒØ§ Ù…Ø¯Ø§Ø±Ø³ ÛŒØ§ ØªÙ…Ø§Ø³.", 'bot-msg'), 220);
      }
    });

    // Close when clicking outside both launch and chatbox
    document.addEventListener('click', function(e){
      const target = e.target;
      if(!chatBox.classList.contains('open')) return;
      if(target.closest('#chatbox')) return;
      if(target.closest('#chat-launch')) return;
      chatBox.classList.remove('open');
      chatBox.setAttribute('aria-hidden', 'true');
    });

    // send
    document.getElementById('chat-send').addEventListener('click', function(){
      const input = document.getElementById('chat-input');
      const text = input.value.trim();
      if(!text) return;
      addMessage(text, 'user-msg');
      setTimeout(()=> {
        const reply = generateReply(text);
        addMessage(reply, 'bot-msg');
      }, 450);
      input.value = '';
    });

    document.getElementById('chat-input').addEventListener('keydown', function(e){
      if(e.key === 'Enter'){
        e.preventDefault();
        document.getElementById('chat-send').click();
      }
    });

    // Prevent keyboard focus from causing layout jumps on mobile:
    // Do not auto-focus input when opening. If you want focus, delay slightly and test devices.
  </script>
</body>
</html>
